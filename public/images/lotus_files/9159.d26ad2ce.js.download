"use strict";(self["webpackChunklotus_front_end"]=self["webpackChunklotus_front_end"]||[]).push([[9159],{82803:function(s,e,a){a(44114),a(98992),a(23215),a(54520);var r=a(40881);const o={passwordRegex:/^(?=.*?[A-Z])(?=.*?[0-9])(?!.*\s)[A-Za-z0-9!@#$%^&*()_+={}\[\]:;<>,.?/~`|-]{6,}$/,withdrawPasswordRegex:/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*\W)(?!.* ).{8,20}$/,userRegex:/^(?=.*?[A-Za-z])(?=.*?[0-9])(?!.*\s)[A-Za-z0-9_]{6,25}$/,referCodeRegex:/^\d+$/},t={areFieldsValid(s,e,a,t,d,i,n){const l={},w=(s,e,a)=>{l[s]||(l[s]=[]),l[s].push({error:e,lang:a})},p=s=>{10!==s?.length&&w("mobile","Phone Number Should Be Of 10 Digits.","mobile-number-should-be-of-10-digits")},h=s=>{s?.length<8&&w("password","Password Must Be Of Minimum 8 Characters and Maximum 20 Characters.","pass-min-8-max-20"),r.dwU.testRegex(o.passwordRegex,s)||w("password","Password Must Contain Alphabets, Numbers, And At Least 1 In Capital Case, And 1 In Lower Case.","pass-alpha-num-1-caps")},c=s=>{s?.length||w("selfPassword","Please Enter Self Password","please-enter-self-password")},P=(s,e)=>{s!==e&&w("confirmWithdrawPassword","Withdraw Password Mismatched.","password-mismatched")},m=s=>{s?.length<8&&w("withdrawPassword","Password Must Be Of Minimum 8 Characters And Maximum 20 Characters.","pass-min-8-max-20"),r.dwU.testRegex(o.withdrawPasswordRegex,s)||w("withdrawPassword","Password Must Contain Alphabets, Numbers, special characters And At Least 1 In Capital Case, And 1 In Lower Case.","password-valid-msg")},u=(s,e)=>{s!==e&&w("confirmPassword","Password Mismatched.","password-mismatched")};if("display-name"===s){const s=e;""===s?w("userId","Please Enter Display Name","please-enter-user-name"):s?.length<6&&w("userId","Display Name Must Contain Only Alphabets And Numbers And Be Between 6 To 15 Characters","display-name-id-alphabets-numbers-and-between-6-to-15-characters")}if("affiliate"===s){const s=e,r=a,o=t,l=d,P=i,m=n;p(s),s?.length&&6==r?.filter((s=>""==s))?.length&&w("otp","Please Enter OTP","please-enter-otp"),s?.length&&6!=r?.filter((s=>""==s))?.length&&!r?.every((s=>""!=s))&&w("otp","Please Enter 6 Digit OTP","please-enter-otp-6"),""===o?w("userId","Please Enter User ID","please-enter-user-name"):o&&(o?.length<6||o?.length>25)&&w("userId","User ID Must Be Between 6 To 25 Characters","user-id-6-to-25"),""===l?w("password","Please Enter Password","please-enter-password"):h(l),""!==l&&""===P&&w("confirmPassword","Please Enter Confirm Password","please-enter-confirm-password"),""!==l&&""!==P&&u(l,P),""===m?w("selfPassword","Please Enter Self Password","please-enter-self-password"):c(m)}if("only-mobile"==s){const s=e;p(s)}if("login"===s){const s=e,r=a,o=t,l=d,h=i,c=n;1==s&&""===r?w("mobile","Please Enter Mobile Number","please-enter-mobile-number"):"password"!=c&&p(r),2!=s||""!=o&&null!=o||w("userId","Please Enter User ID","please-enter-user-id"),""===l&&w("password","Please Enter Password","please-enter-password"),1==s&&""===h&&w("otp","Please Enter OTP","please-enter-otp"),1==s&&""!=h&&6!=h?.length&&w("otp","Please Enter 6 Digit OTP","otp-6-digit-msg")}if("signup"===s){const s=e,l=a,c=t,P=d,m=i,f=n;p(s),""===l&&w("otp","Please Enter OTP","please-enter-otp"),""!=l&&6!=l.length&&w("otp","Please Enter 6 Digit OTP","please-enter-otp-6"),""===c?w("userId","Please Enter User ID","please-enter-user-id"):c&&(c?.length<6||c?.length>25)&&w("userId","User ID Must Be Between 6 To 25 Characters","user-id-6-to-25"),""===P?w("password","Please Enter Password","please-enter-password"):h(P),""!==P&&""===m&&w("confirmPassword","Please Enter Confirm Password","please-enter-confirm-password"),""!==P&&""!==m&&u(P,m),f&&!r.dwU.testRegex(o.referCodeRegex,f)&&w("referCode","The Refer code must be numeric","refer-valid-msg")}if("forgot-password"===s){const s=e,r=a,o=t,i=d;p(s),""===r&&w("otp","Please Enter OTP","please-enter-otp"),""!=r&&6!=r?.length&&w("otp","Please Enter 6 Digit OTP","please-enter-otp-6"),""===o?w("password","Please Enter Password","please-enter-password"):h(o),""!==o&&""===i&&w("confirmPassword","Please Enter Confirm Password","please-enter-confirm-password"),""!==o&&""!==i&&u(o,i)}if("change-password"===s){const s=e,r=a,o=t,l=d,p=i,c=n;""===s&&w("oldPassword","Please Enter Current Password","please-enter-current-password"),""===r?w("password","Please Enter New Password","please-enter-new-password"):h(r),""!==r&&""===o&&w("confirmPassword","Please Enter Confirm Password","please-enter-confirm-password"),""!==r&&""!==o&&u(r,o),null===c&&(""===l?w("withdrawPassword","Please Enter New Password","please-enter-new-password"):m(l),""!==l&&""===p&&w("confirmWithdrawPassword","Please Enter Confirm Password","please-enter-confirm-password"),""!==l&&""!==p&&P(l,p))}if("withdraw-password"===s){const s=e,r=a,o=t;s||w("otp","Please Enter OTP","please-enter-otp"),s&&6!=s?.length&&w("otp","Please Enter 6 Digit OTP","please-enter-otp-6"),r?m(r):w("withdrawPassword","Please Enter Withdraw Password","please-enter-withdraw-password"),o||w("confirmWithdrawPassword","Please Enter Confirm Withdraw Password.","please-enter-confirm-withdraw-password"),r&&o&&P(r,o)}return l}};e.A=t},89159:function(s,e,a){a.r(e),a.d(e,{default:function(){return W}});var r=a(56768),o=a(45130),t=a(24232);const d={class:"modal fade history-filter-modal forgetwithdrawModal-cl",id:"ChangeAndWithdrawPassword","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-keyboard":"false"},i={class:"modal-dialog modal-dialog-centered"},n={class:"modal-content"},l={class:"modal-header"},w={class:"modal-body"},p={class:"withdraw_password_content change-password-sec"},h={class:"cmn_withdraw_cl position-relative"},c=["type"],P={class:"cmn_withdraw_cl position-relative"},m=["type"],u={class:"cmn_withdraw_cl position-relative"},f=["type"],g={class:"cmn_withdraw_cl position-relative"},y=["type"],C={class:"cmn_withdraw_cl position-relative"},b=["type"];function k(s,e,a,k,E,v){return(0,r.uX)(),(0,r.CE)("div",d,[(0,r.Lk)("div",i,[(0,r.Lk)("div",n,[(0,r.Lk)("div",l,[e[17]||(e[17]=(0,r.Lk)("div",{class:"thm-heading"},[(0,r.Lk)("h3",null,"Change Password")],-1)),s.$auth?.user?.last_login_at?((0,r.uX)(),(0,r.CE)("button",{key:0,type:"button",class:"btn-close","aria-label":"Close",onClick:e[0]||(e[0]=s=>v.closeModal())})):(0,r.Q3)("",!0)]),(0,r.Lk)("div",w,[(0,r.Lk)("form",p,[(0,r.Lk)("div",h,[(0,r.bo)((0,r.Lk)("input",{autocomplete:"current-password",type:E.oldPasswordFieldType,onInput:e[1]||(e[1]=e=>{E.oldPassword=s.$helper.sanitizeDetails("oldLoginPassword",E.oldPassword,200),v.validate()}),"onUpdate:modelValue":e[2]||(e[2]=s=>E.oldPassword=s),class:"form-control profit-input",placeholder:"Enter Current Password"},null,40,c),[[o.hp,E.oldPassword]]),(0,r.Lk)("i",{onClick:e[3]||(e[3]=s=>v.togglePasswordVisibility("oldPasswordFieldType")),class:(0,t.C4)(["fas","togglePassword","password"==E.oldPasswordFieldType?"fa-eye-slash":"fa-eye"])},null,2),E.init.oldPassword&&v.checkValidation?.oldPassword?.length>0?((0,r.uX)(!0),(0,r.CE)(r.FK,{key:0},(0,r.pI)(v.checkValidation?.oldPassword,((e,a)=>((0,r.uX)(),(0,r.CE)("span",{key:a,class:"text-danger mt-2 error-messages-text"}," • "+(0,t.v_)(s.$t(e.lang,e.error)),1)))),128)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",P,[(0,r.bo)((0,r.Lk)("input",{autocomplete:"new-password",type:E.newPasswordFieldType,"onUpdate:modelValue":e[4]||(e[4]=s=>E.newPassword=s),onInput:e[5]||(e[5]=e=>{E.newPassword=s.$helper.sanitizeDetails("password",E.newPassword,20),v.validate()}),class:"form-control profit-input",placeholder:"Enter New Password"},null,40,m),[[o.hp,E.newPassword]]),(0,r.Lk)("i",{onClick:e[6]||(e[6]=s=>v.togglePasswordVisibility("newPasswordFieldType")),class:(0,t.C4)(["fas","togglePassword","password"==E.newPasswordFieldType?"fa-eye-slash":"fa-eye"])},null,2),E.init.newPassword&&v.checkValidation?.password?.length>0?((0,r.uX)(!0),(0,r.CE)(r.FK,{key:0},(0,r.pI)(v.checkValidation?.password,((e,a)=>((0,r.uX)(),(0,r.CE)("span",{key:a,class:"text-danger mt-2 error-messages-text"}," • "+(0,t.v_)(s.$t(e.lang,e.error)),1)))),128)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",u,[(0,r.bo)((0,r.Lk)("input",{autocomplete:"new-password",type:E.confirmPasswordFieldType,"onUpdate:modelValue":e[7]||(e[7]=s=>E.confirmPassword=s),onInput:e[8]||(e[8]=e=>{E.confirmPassword=s.$helper.sanitizeDetails("password",E.confirmPassword,20),v.validate()}),class:"form-control profit-input",placeholder:"Enter Confirm New Password"},null,40,f),[[o.hp,E.confirmPassword]]),(0,r.Lk)("i",{onClick:e[9]||(e[9]=s=>v.togglePasswordVisibility("confirmPasswordFieldType")),class:(0,t.C4)(["fas","togglePassword","password"==E.confirmPasswordFieldType?"fa-eye-slash":"fa-eye"])},null,2),E.init.confirmPassword&&v.checkValidation?.confirmPassword?.length>0?((0,r.uX)(!0),(0,r.CE)(r.FK,{key:0},(0,r.pI)(v.checkValidation?.confirmPassword,((e,a)=>((0,r.uX)(),(0,r.CE)("span",{key:a,class:"text-danger mt-2 error-messages-text"}," • "+(0,t.v_)(s.$t(e.lang,e.error)),1)))),128)):(0,r.Q3)("",!0)]),2!=s.$siteSettings?.data?.business_type||s.$auth?.user?.last_login_at||s.$auth?.user?.phone?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[(0,r.Lk)("div",g,[(0,r.bo)((0,r.Lk)("input",{type:E.withdrawPasswordFieldType,"onUpdate:modelValue":e[10]||(e[10]=s=>E.withdrawPassword=s),onInput:e[11]||(e[11]=e=>{E.withdrawPassword=s.$helper.sanitizeDetails("withdrawPassword",E.withdrawPassword,20),v.validate()}),class:"form-control profit-input",placeholder:"Enter Withdraw Password"},null,40,y),[[o.hp,E.withdrawPassword]]),(0,r.Lk)("i",{onClick:e[12]||(e[12]=s=>v.togglePasswordVisibility("withdrawPasswordFieldType")),class:(0,t.C4)(["fas","togglePassword","password"==E.withdrawPasswordFieldType?"fa-eye-slash":"fa-eye"])},null,2),E.init.withdrawPassword&&v.checkValidation?.withdrawPassword?.length>0?((0,r.uX)(!0),(0,r.CE)(r.FK,{key:0},(0,r.pI)(v.checkValidation?.withdrawPassword,((e,a)=>((0,r.uX)(),(0,r.CE)("span",{key:a,class:"text-danger mt-2 error-messages-text"}," • "+(0,t.v_)(s.$t(e.lang,e.error)),1)))),128)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",C,[(0,r.bo)((0,r.Lk)("input",{type:E.confirmWithdrawPasswordFieldType,"onUpdate:modelValue":e[13]||(e[13]=s=>E.confirmWithdrawPassword=s),onInput:e[14]||(e[14]=e=>{E.confirmWithdrawPassword=s.$helper.sanitizeDetails("withdrawPassword",E.confirmWithdrawPassword,20),v.validate()}),class:"form-control profit-input",placeholder:"Enter Confirm Withdraw Password"},null,40,b),[[o.hp,E.confirmWithdrawPassword]]),(0,r.Lk)("i",{onClick:e[15]||(e[15]=s=>v.togglePasswordVisibility("confirmWithdrawPasswordFieldType")),class:(0,t.C4)(["fas","togglePassword","password"==E.confirmWithdrawPasswordFieldType?"fa-eye-slash":"fa-eye"])},null,2),E.init.confirmWithdrawPassword&&v.checkValidation?.confirmWithdrawPassword?.length>0?((0,r.uX)(!0),(0,r.CE)(r.FK,{key:0},(0,r.pI)(v.checkValidation?.confirmWithdrawPassword,((e,a)=>((0,r.uX)(),(0,r.CE)("span",{key:a,class:"text-danger mt-2 error-messages-text"}," • "+(0,t.v_)(s.$t(e.lang,e.error)),1)))),128)):(0,r.Q3)("",!0)])],64)),(0,r.Lk)("button",{onClick:e[16]||(e[16]=(0,o.D$)((s=>v.changePassword()),["prevent"])),type:"button",class:"btn_submit_cl thm-but w-100"},"Save")])])])])])}a(98992),a(54520);var E=a(82803),v=a(40881),T={name:"ChangeAndWithdrawPasswordModal",props:{handleUserIdAndOffer:Function},data(){return{oldPassword:"",newPassword:"",confirmPassword:"",withdrawPassword:"",confirmWithdrawPassword:"",validationErrors:null,init:{oldPassword:!1,newPassword:!1,confirmPassword:!1,withdrawPassword:!1,confirmWithdrawPassword:!1},oldPasswordFieldType:"password",newPasswordFieldType:"password",confirmPasswordFieldType:"password",withdrawPasswordFieldType:"password",confirmWithdrawPasswordFieldType:"password"}},computed:{checkValidation(){return this.validationErrors}},methods:{setUserIdsToStore(){this.$auth;let s=this.$store.getters?.logInData?.userIds||[],e=this.$store.getters?.logInData?.logInWithMobile,a={logInWithMobile:e,userIds:s};this.$store.dispatch("setLogInData",a)},changePassword(){this.toggleInit(!0);const s=["withdrawPassword","confirmWithdrawPassword"],e=2==this.$siteSettings?.data?.business_type?0===Object.keys(this.validate()).length:0===Object.keys(this.validate()).filter((e=>!s.includes(e))).length;e&&this.callChangePasswordServiceFunction()},async callChangePasswordServiceFunction(){if(this.$auth?.user?.isDemo)return void this.$errorToast("Password Change Is Not Allowed For Demo Users");this.loading=!0,this.$store.dispatch("setGlobalLoader",!0);let s=await(0,v.x9C)(this.oldPassword,this.newPassword,this.confirmPassword,this.withdrawPassword);s?.changeErrorRes?(this.loading=!1,this.$store.dispatch("setGlobalLoader",!1)):(this.loading=!1,this.$store.dispatch("setGlobalLoader",!1),this.$helper.closeModal("ChangeAndWithdrawPassword"),setTimeout((()=>{window.location.reload()}),500),this.handleUserIdAndOffer())},validate(){return this.validationErrors=E.A.areFieldsValid("change-password",this.oldPassword,this.newPassword,this.confirmPassword,this.withdrawPassword,this.confirmWithdrawPassword),this.validationErrors},togglePasswordVisibility(s){this[s]="password"===this[s]?"text":"password"},toggleInit(s){this.init={oldPassword:s,newPassword:s,confirmPassword:s,withdrawPassword:s,confirmWithdrawPassword:s}},closeModal(){this.$helper.closeModal("ChangeAndWithdrawPassword"),this.oldPassword="",this.newPassword="",this.confirmPassword="",this.withdrawPassword="",this.confirmWithdrawPassword="",this.init={oldPassword:!1,newPassword:!1,confirmPassword:!1,withdrawPassword:!1,confirmWithdrawPassword:!1},this.oldPasswordFieldType="password",this.newPasswordFieldType="password",this.confirmPasswordFieldType="password",this.withdrawPasswordFieldType="password",this.confirmWithdrawPasswordFieldType="password",this.validationErrors=null}}},I=a(71241);const F=(0,I.A)(T,[["render",k]]);var W=F}}]);
//# sourceMappingURL=9159.d26ad2ce.js.map